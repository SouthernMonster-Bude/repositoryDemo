# 文件权限处理

## Cacls 



```sh
Cacls filename [/T] [/E] [/C] [/G usererm] [/R user [...]] [/P usererm [...]] [/D user [...]] 

Filename：显示访问控制列表(以下简称ACL) 

/T：更改当前目录及其所有子目录中指定文件的ACL 

/E：编辑ACL而不替换 

/C：在出现拒绝访问错误时继续 　　 

/G Userer:perm：赋予指定用户访问权限，Perm代表不同级别的访问权限，其值可以是R(读取)、W(写入)、C(更改，写入)、F(完全控制)等。 

/R user：撤销指定用户的访问权限，注意该参数仅在与“/E”一起使用时有效。 

/P user：perm：替换指定用户的访问权限，perm的含义同前，但增加了“N(无)”的选项。 

/D user：拒绝指定用户的访问。 
```



### ①：查看文件夹的访问控制权限 

Cacls C:\tmp 

此时，我们会看到所有用户组和用户对C:\ruery文件夹的访问控制权限项目. 
CI表示ACE会由目录继承. 
OI表示ACE会由文件继承. 
IO表示ACI不适用于当前文件或目录. 
每行末尾的字母表示控制权限，例如"F"表示完全控制,"C"表示更改,"W"表示写入."R"表示读取 



### ②:修改文件夹的访问控制权限 

假如你希望给予本地用户ruery完全控制C:\ruery文件夹及子文件夹中所有文件的访问权限，只需要键入如下命令: 
Cacls C:\ruery /t /e /c /g ruery:F 
"/t"表示修改文件夹及子文件夹中所有文件的ACL. 
"/e"表示仅做编辑工作而不替换. 
"/c"表示在出现拒绝访问错误时继续. 
"/g ruery:F"表示给予本地用户ruery以完全控制的权限. 
"f"代表完全控制，如果只是希望给予读取权限，那么应当是"r" 

### ③:撤销用户的访问控制权限 

如果你希望撤销ruery用户对C:\ruery文件夹及其子文件夹的访问控制权限，可以键入如下命令： 
cacls C:\ruery /t /e /c /r ruery 

如果只是拒绝用户的访问，那么可以键入如下命令： 
cacls C:\ruery /t /e /c /d ruery 

cacls.exe c: /e /t /g everyone:F　　　 #把c盘设置为everyone可以浏览 
