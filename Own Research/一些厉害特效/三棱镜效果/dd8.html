<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title></title>
    <script src=".\js\jquery-2.1.1.min.js"></script>
</head>

<body>
    <div id="wrap">
        <div class="box box1">
            <div>0</div>
            <div>1</div>
            <div>2</div>
            <div>3</div>
            <div>4</div>
            <div>5</div>
            <div>6</div>
            <div>7</div>
            <div>8</div>
            <div>9</div>
        </div>
        <div class="box box2">
            <div>0</div>
            <div>1</div>
            <div>2</div>
            <div>3</div>
            <div>4</div>
            <div>5</div>
            <div>6</div>
            <div>7</div>
            <div>8</div>
            <div>9</div>
        </div>
        <div class="box box3">
            <div>0</div>
            <div>1</div>
            <div>2</div>
            <div>3</div>
            <div>4</div>
            <div>5</div>
            <div>6</div>
            <div>7</div>
            <div>8</div>
            <div>9</div>
        </div>
        <div class="box box4">
            <div>0</div>
            <div>1</div>
            <div>2</div>
            <div>3</div>
            <div>4</div>
            <div>5</div>
            <div>6</div>
            <div>7</div>
            <div>8</div>
            <div>9</div>
        </div>
        <div class="box box5">
            <div>0</div>
            <div>1</div>
            <div>2</div>
            <div>3</div>
            <div>4</div>
            <div>5</div>
            <div>6</div>
            <div>7</div>
            <div>8</div>
            <div>9</div>
        </div>
        <div class="box box6">
            <div>0</div>
            <div>1</div>
            <div>2</div>
            <div>3</div>
            <div>4</div>
            <div>5</div>
            <div>6</div>
            <div>7</div>
            <div>8</div>
            <div>9</div>
        </div>
        <div class="box box7">
            <div>0</div>
            <div>1</div>
            <div>2</div>
            <div>3</div>
            <div>4</div>
            <div>5</div>
            <div>6</div>
            <div>7</div>
            <div>8</div>
            <div>9</div>
        </div>
        <div class="box box8">
            <div>0</div>
            <div>1</div>
            <div>2</div>
            <div>3</div>
            <div>4</div>
            <div>5</div>
            <div>6</div>
            <div>7</div>
            <div>8</div>
            <div>9</div>
        </div>
        <div class="box box9">
            <div>0</div>
            <div>1</div>
            <div>2</div>
            <div>3</div>
            <div>4</div>
            <div>5</div>
            <div>6</div>
            <div>7</div>
            <div>8</div>
            <div>9</div>
        </div>
        <div class="box box10">
            <div>0</div>
            <div>1</div>
            <div>2</div>
            <div>3</div>
            <div>4</div>
            <div>5</div>
            <div>6</div>
            <div>7</div>
            <div>8</div>
            <div>9</div>
        </div>
        <div class="box box11">
            <div>0</div>
            <div>1</div>
            <div>2</div>
            <div>3</div>
            <div>4</div>
            <div>5</div>
            <div>6</div>
            <div>7</div>
            <div>8</div>
            <div>9</div>
        </div>
        <div class="box box12">
            <div>0</div>
            <div>1</div>
            <div>2</div>
            <div>3</div>
            <div>4</div>
            <div>5</div>
            <div>6</div>
            <div>7</div>
            <div>8</div>
            <div>9</div>
        </div>
        <div class="box box13">
            <div>0</div>
            <div>1</div>
            <div>2</div>
            <div>3</div>
            <div>4</div>
            <div>5</div>
            <div>6</div>
            <div>7</div>
            <div>8</div>
            <div>9</div>
        </div>
        <div class="box box14">
            <div>0</div>
            <div>1</div>
            <div>2</div>
            <div>3</div>
            <div>4</div>
            <div>5</div>
            <div>6</div>
            <div>7</div>
            <div>8</div>
            <div>9</div>
        </div>

    </div>
</body>
<script>
    var unitLen = 200;
    var sideWidth = unitLen;
    var sideHeight = unitLen;
    var sideColor = '#00be06';
    var unitAngle = 36;
    var zIndex = -sideHeight * Math.sqrt(0.5 / (1 - Math.cos(2 * Math.PI / 10)) - 0.25);
    var boxLen = $(".box").length;
    function generateCubic(el, childrenDom) {
        $(el).find(childrenDom).each(function (i) {
            var deg = unitAngle;
            deg = deg * i;
            var style = {
                'position': 'absolute',
                'width': sideWidth + 'px',
                'height': sideHeight + 'px',
                'background': sideColor,
                'text-align': 'center',
                'color': '#FFF',
                'opacity': '1',
                'font': '700 '+(0.5*unitLen)+'px/' + sideHeight + 'px "微软雅黑"',
                'transform-origin': 'center center ' + zIndex + 'px',
                'transform': 'rotateX(' + deg + 'deg)'
            };
            $(this).css(style);
        });
    }
    function rundColor() {
        var str = '0123456789abcdef';
        var color = '#';
        for (var i = 0; i < 3; i++) {
            color += str.charAt(Math.floor(str.length * Math.random()));
        }
        return color;
    }
    function junmpToNumber(numStr) {
        for (let i = numStr.length - 1; i >= 0; i--) {
            let boxIdx = ".box" + (boxLen - (numStr.length - i - 1));
            console.log(boxIdx);
            setTimeout(() => {
                let num = 20 + parseInt(numStr.charAt(i));
                let count = 0;
                let id = setInterval(() => {
                    $(boxIdx).css('transform', 'rotateX(' + (-unitAngle * (count)) + 'deg)');
                    count++;
                    if (count > num) {
                        clearInterval(id);
                    }
                }, 30);
            }, 100 * (numStr.length - i));
        }
    }
    function initStyle() {
        initWrapStyle();
        var style = {
            'width': sideWidth + 'px',
            'height': sideHeight + 'px',
            'position': 'absolute',
            'left': 0,'top': 0,'right': 0,
            'bottom': 0,'margin': 0,
            'transform-style': 'preserve-3d',
            'transition': '0.2s',
            'transform-origin':'center center ' + zIndex + 'px'
        };
        $(".box").css(style);
        $(".box").each(function (i) {
            generateCubic(this, "div");
            $(this).css("left", unitLen * i);
        })
    }
    function initWrapStyle() {
        var style = {
            'position': 'absolute',
            'left':'0%',
            'top': '50%',
            'width': boxLen*unitLen+'px',
            'height': unitLen+'px',
            'overflow': 'hidden',
            'perspective': '0px',
            'transform-style': 'preserve-3d'
        };
        $("#wrap").css(style);
    }
    initStyle();
    junmpToNumber("123456789000");
    setInterval(()=>{
        let num = parseInt(Math.random()*10**12)+"";
        junmpToNumber(num);
    },3000);
</script>

</html>
<!-- 
function junmpToNumber(numStr) {
    $(".box").find("div").each(function(){
        $(this).css("display","inline-block");
    });
    for (let i = numStr.length - 1; i >= 0; i--) {
        let boxIdx = ".box" + (boxLen - (numStr.length - i - 1));
        console.log(boxIdx);
        setTimeout(() => {
            let num = 20 + parseInt(numStr.charAt(i));
            let count = 0;
            let id = setInterval(() => {
                $(boxIdx).css('transform', 'rotateX(' + (-unitAngle * (count)) + 'deg)');
                count++;
                if (count > num) {
                    num = num%10;
                    $(boxIdx).find("div").each(function(i){
                        if(i==num){
                            $(this).css("display","inline-block");
                        }else{
                            $(this).css("display","none");
                        }
                    });
                    clearInterval(id);
                }
            }, 30);
        }, 100 * (numStr.length - i));
    }
} -->